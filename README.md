# 편의점 판매

### 기능

1. [x] 주문
    - 상품명 및 구매수량 입력
    - 프로모션에 따른 부가정보 입력
    - 일반판매에 따른 맴버십 적용
2. [x] 영수증 출력
    - 개별상품 및 요약정보

### 도메인

1. [x] 상품

- 상품 정보 관리
- 이름, 가격, 프로모션 이름


2. [x] 프로모션

- 프로모션 정보 관리
- 프로모션 이름,할인내용(n+1), 유효 기간


3. [x] 주문

- 고객 주문 정보 관리
- 상품 이름, 주문 수량

4. [x] 판매

- 주문에 따른 프로모션판매수량과 일반판매수량 생성

5. [x] 재고

- 판매에 따른 일반 및 프로모션재고 관리
- 이름, 일반재고수량, 프로모션판매수량

### 진행순서

1. [x] 주문 생성
2. [x] 전략 판단
    1. 일반 재품일 경우(프로모션없음)
    2. 프로모션 적용될 경우
    3. 프로모션 비활성화된 경우(기간만료)
3.  [x] 전략에 따른 판매정보생성(일반판매, 프로모션판매)
4. [x] 영수증 출력
    1. 개별 상품의 판매정보
    2. 할인 및 증정 정보
    3. 총 금액 등 요약정보
5. [x] 재고 정리
    1. 일반판매 및 프로모션 판매에 따른 재고 정리

### 프로모션에따른 부가정보 입력관련 설명

- [x] +ONE 혜택을 더 받을 수 있는 경우
    - [Y] +ONE 혜택적용
    - [N] 그대로 구매
- [x] 혜택을 받아야 함에도 재고상황에 따라 못 받을 경우
    - [Y] 일부 혜택만 받고 일부는 받지못함
    - [N] 최대적용횟수만큼 구매

### 전략에 대한 설명

- [x] 프로모션 활성화된 경우
    - 추가 증정 상품이 필요한 지 응답 확인
    - 재고상황에 따라 일부 혜택 없이 구매 여부 확인
- [x] 프로모션 비활성화된 경우
    - 일반판매수량 = 일반판매수량 + 프로모션판매수량
    - 프로모션판매수량은 = 0
- [x] 일반재고만 있을 경우
    - 프로모션판매수량은 = 0
    - 일반판매수량 = 주문수량

### 재고 관리 설명

- [x]  일반재고와 프로모션재고를 분할하여 관리
- [x] 전체판매수량 >프로모션 재고수량
    - 일반재고 : 초과된 판매량을 일반 재고에서 차감
    - 프로모션재고 : 0으로정리
- [x] 전체판매수량 <=프로모션 재고수량
    - 프로모션재고 : 프로모션재고수량 - 총판매수량
    - 일반재고 : 그대로 유지

### 디자인 패턴

- 전략패턴 : 활성화 프로모션전략, 비활성화 프로모션 전략 ,일반전략
- 팩토리 패턴 : 전략군에서 전략을 생성 하는 팩토리
- 커맨드 패턴 : 전략을 명령으로 객체화여 처리 