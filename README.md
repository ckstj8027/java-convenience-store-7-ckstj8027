# 편의점 판매

### 기능

- [ ]  할인혜택적용
- [ ]  +one 혜택을 더 받을 수있는경우
- [Y] +one 혜택적용
- [N] 그대로 구매
- [ ]  혜택을받아야함에도 재고상황에따라 못받을경우
- [Y] 일부혜택만받고 일부는 받지못함
- [N] 최대적용횟수만큼 구매

### 전략나누기

- [ ]  프로모션적용
- [ ]  프로모션있지만 비활성화상태
- [ ]  일반

### 도메인

- [ ] 재고
- [ ] 주문
- [ ] 프로모션
- [ ] 상품
- [ ] 판매

### 진행순서

-[ ] 먼저 주문을받아 주문테이블을 만든다
-[ ] 전략판단
    - 일반재고만있을경우
    - 프로모션 적용될경우
    - 프로모션 비활성화된경우
-[ ] 영수증 출력
    - 각전략에따라만든 판매테이블을 순회하며 영수증출력
-[ ] 재고정리
    - 각전략에따라만든 판매테이블을 바탕으로 재고정리

### 각 전략에 맞추어 판매테이블을 만든다

-[ ] 프로모션 활성화된경우
    - 추가 증정 상품이 필요한지 응답확인
    - 재고상황에따라 일부 혜택없이 구매 여부확인
-[ ] 프로모션 비활성화된경우
    - 프로모션판매수량을 일반판매수량으로 전환 후
    - 프로모션판매수량은 0으로 만듬
-[ ] 일반재고만 있을우
    - 프로모션판매수량은 0
    - 일반판매수량은 주문수량이된다

### 재고정리

-[ ] 토탈판매수량 >프로모션 재고수량
    - 일반재고:초과된 판매량을 일반 재고에서 차감
    - 프로모션재고: 0으로정리
-[ ] 토탈판매수량 <=프로모션 재고수량
    - 프로모션재고:프로모션재고수량 - 총판매수량
      -일반재고:그대로 유지
